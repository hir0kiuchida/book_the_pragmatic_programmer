# 達人のアプローチ

> [!TIP]
> 良い設計は悪い設計よりも変更しやすい
> ETC原則　（Easier To Change）

## DRY原則-二重化の過ち

> [!TIP]
> DRY - Don't Repeat Yourself (繰り返しを避けること)

DRY原則を破るということは、同じ知識を２箇所以上に記述することです。この場合、片方を変更するのであれば、もう片方も変更しなければなりません。
達人プログラマーの道具箱の中に入れておく道具のうちで最も重要なものの1つであると考えています。

DRY原則は「知識」や「意図」の二重化についての原則です。つまり、異なった場所に同じことを表現するという問題を避けるための原則です。
検査は次のようにします。コードの一部を変更する際に、複数の場所を変更しようとしている、また複数の異なるフォーマットを変更しようとしているでしょうか？
コードとドキュメントを変更しなければならないのでしょうか？そうであるなら、DRY原則に違反していることになります。

### コードの二重化

全てが知識の二重化というわけではない
```js
function validateAge(value) {
  validateType(value, 'number');
  validateMinInteger(value, 0);
}

function validateQuantity(value) {
  validateType(value, 'number');
  validateMinInteger(value, 0);
}
```
コードは同じですが、これらのコードが表現している知識は異なっているのです。これら2つの関数は、異なる2つの物事が同じ規則を有しているということを示しているだけです。それは偶然であり二重化ではありません

## 直交性

直交性とは、ある種の独立性、あるいは結合度の低さを表しています。  
2つ以上のものごとで、片方を変更しても他方に影響を与えない場合、それらを直交していると呼ぶ。  
直交性の高いシステムを構築すれば、生産性の向上とリスクの低減という2つの大きなメリットを享受することができるわけです。  

> [!TIP]
> 関係のないもの同士の影響を排除すること

　### 直交することの利点
 - 生産性の向上
   - 変更が局所化されるため、大きな塊を記述するよりも簡単。簡潔なコンポーネントは設計やコーディング、UTが終われば、それ以降忘れてしまうことができる。
   - コンポーネントの再利用ができる。
 - リスクの削減
   - コード中の問題発生部分を隔離できる。その部分を切り離し、問題を取り除いたモジュールと交換するといったこともできる
   - コンポーネント単位の設計やテストが簡単に行えるため、検証しやすくなります

設計に直交性があるかどうかを確認する簡単な方法があります。  
コンポーネントに機能を割り当てる際に、この特定コンポーネントの要求が大きく変更になった場合、  
どれだけ多くのモジュールに影響が及ぶのだろうかという質問を自らに投げかけてください。  

